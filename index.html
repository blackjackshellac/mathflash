<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="Math Flash Cards">
  <meta name="author" content="Steeve McCauley">
  <link rel="icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

  <title>Math Flash Cards for Kids</title>

  <!-- Bootstrap core CSS -->
  <link href="/css/bootstrap/bootstrap.min.css" rel="stylesheet">
  <!-- <link href="/css/bootstrap-slider.min.css" rel="stylesheet"> -->
  <link href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.2.0/css/bootstrap-slider.css' rel='stylesheet'>

  <!-- Custom styles for this template -->
  <link href="/css/mathflash.css" rel="stylesheet">
  <link href="/css/options.css" rel="stylesheet">
  <link href="/css/math.css" rel="stylesheet">
  <link href="/css/charts.css" rel="stylesheet">

</head>

<body>

  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">
          <span><img class="flash-icon" src="/images/flash-120px.png"></span>&nbsp;Math Flash
        </a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="active"><a id="options" href="#">Options</a></li>
          <li><a id="addition" href="#">Addition</a></li>
          <li><a id="subtraction" href="#">Subtraction</a></li>
          <li><a id="multiplication" href="#">Multiplication</a></li>
          <li><a id="division" href="#">Division</a></li>
          <li><a id="charts" href="#">Charts</a></li>
        </ul>
		<ul class="nav navbar-nav navbar-right">
			<li><a id="account">">>"</a></li>
			<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-menu-hamburger"></span></a>
			<ul id="nav_menu" class="dropdown-menu">
				<li><a id="save_options" href="#">Save options ...</a></li>
				<li><a id="load_options" href="#">Load options ... currently not implemented</a></li>
				<li role="separator" class="divider"></li>
				<li><a id="logio" href="#">Login ...</a></li>
			</ul>
			</li>
		</ul>
      </div>
      <!--/.nav-collapse -->
    </div>
  </nav>

  <div class="container">

    <div class="big_title">
      <h1 id="h1_action" style="display: inline-block;"></h1>
      <span id="span-download" style="display: none">
        - <a id="json-download" download="mathflash_options.json" >download</a>
      </span>
    </div>

    <div class="well" id='content'>
    </div>

    <div>
      <div class="alert" id="alert">
      </div>
    </div>
    <!-- well -->

  </div>
  <input type="file" id="file-thing">

  <!-- /.container -->

  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src='https://code.jquery.com/jquery-1.12.4.min.js'></script>
  <script src='https://code.jquery.com/ui/1.12.1/jquery-ui.min.js'></script>
  <script>
    window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')
  </script>
  <script src="/js/bootstrap/bootstrap.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.2.0/bootstrap-slider.js'></script>
  <!-- <script src="/js/bootstrap-slider.min.js"></script> -->
  <script>
    $(document).ready(function() {
      console.log("document loaded");
      setup_auth_menu();
      init_controls();
      $('#options').click();
      $('#file-thing').hide();

      $('#json-download').click(function(e) {
        $('#span-download').hide();
        //e.preventDefault();
      });

      // http://www.html5rocks.com/en/tutorials/file/filesystem/
      $('ul#nav_menu li a').click(function(e) {
        var id = e.target.id;
        if (id == "save_options") {
          var jsonFile = makeJsonFile();
          $('#json-download').attr('href', jsonFile);
          $('#span-download').show();
        } else if (id == "load_options") {
          $("#file-thing").click();
        } else if (id == "logio") {
		if (e.target.text == "Logout") {
			logio();
		}
        } else {
          set_alert("alert", "error", "Unknown menu id")
        }

      });

    });

    $(window).load(function() {
      console.log("window loaded");
    });
  </script>
  <script src="/js/options.js"></script>
  <script src="/js/jquery/jquery.cookie.js"></script>
  <script src="/js/auth.js"></script>
  <script src="/js/maths.js"></script>
  <script src="/js/controls.js"></script>
  <script src="/js/utils.js"></script>
  <script src="/js/charts.js"></script>
  <!-- http://mozilla.github.io/localForage/ -->
  <!--<script src="js/localforage.js"></script>-->
  <!-- takes way too long to load <script src="js/plotly/plotly-latest.min.js"></script>-->
  <!-- <script src="js/momentjs/moment.js"></script> -->
  <!-- <script src="js/Chart.js-2.0.0-beta2/Chart.js"></script>-->
  <script src="/js/Chart.js/Chart.js"></script>
</body>

</html>
